# AI 协作指南

> 本文档定义了 AI 在本项目中的行为规范和约束

## 🎯 核心原则

### 1. 文档管理

- **所有总结文档**必须输出到 `.kiro/summaries/`
- **需求管理**统一在 `.kiro/requirements.md`
- **不在根目录**创建临时总结文档（如 SUMMARY.md）

### 2. 需求处理流程

1. 读取 `.kiro/requirements.md` 了解项目背景
2. 执行用户提出的需求
3. 更新 `.kiro/requirements.md` 的"需求历史"部分
4. 在 `.kiro/summaries/` 生成详细总结文档

### 3. 文档命名规范

- 使用 **kebab-case**：`build-optimization.md`
- 使用 **描述性名称**：说明文档内容
- 添加 **生成时间**：在文档顶部标注

## 📝 文档模板

### 总结文档模板

```markdown
# [任务标题]

> 生成时间：YYYY-MM-DD
> 相关需求：[需求简述]

## 已完成的工作

### 1. [子任务 1] ✅

- ✅ 完成项 1
- ✅ 完成项 2

### 2. [子任务 2] ✅

- ✅ 完成项 1

## 实现细节

[详细说明实现方式、关键代码、配置等]

## 使用指南

[如何使用新功能]

## 相关文档

- [相关文档链接]

---

[其他说明]
```

### 需求更新模板

在 `requirements.md` 的"需求历史"部分添加：

```markdown
### ✅ 已完成 - YYYY-MM-DD

#### [需求标题]

**需求**：
[需求描述]

**完成情况**：

- ✅ 完成项 1
- ✅ 完成项 2

**相关文档**：

- [总结文档链接]
```

## 🔒 行为约束

### 必须遵守

1. **读取 requirements.md**
   - 每次任务开始前先读取此文件
   - 了解项目背景和历史需求

2. **更新 requirements.md**
   - 任务完成后更新"需求历史"
   - 将新需求从"新需求"移到"已完成"

3. **生成总结文档**
   - 重要任务完成后在 `.kiro/summaries/` 生成总结
   - 使用清晰的文件名和结构

4. **保持文档同步**
   - 确保 requirements.md 和 summaries/ 内容一致
   - 删除过时的文档

### 禁止行为

1. ❌ 在根目录创建临时总结文档
2. ❌ 创建重复的需求文档
3. ❌ 忽略 requirements.md 中的历史信息
4. ❌ 生成过于冗长的文档（超过 500 行）

## 📋 任务类型处理

### 类型 1：新功能开发

**流程**：

1. 读取 requirements.md 了解项目结构
2. 实现功能
3. 更新 requirements.md 添加到"已完成"
4. 生成详细总结到 summaries/

**总结内容**：

- 功能描述
- 实现细节
- 使用示例
- 测试结果

### 类型 2：Bug 修复

**流程**：

1. 读取 requirements.md 了解相关背景
2. 修复 bug
3. 更新 requirements.md（如果是已知问题）
4. 简短总结（可选，视情况而定）

**总结内容**：

- Bug 描述
- 修复方案
- 测试验证

### 类型 3：配置优化

**流程**：

1. 读取 requirements.md 了解当前配置
2. 优化配置
3. 更新 requirements.md
4. 生成详细总结到 summaries/

**总结内容**：

- 优化前后对比
- 配置说明
- 使用指南

### 类型 4：文档更新

**流程**：

1. 更新相关文档
2. 确保文档间的一致性
3. 更新 requirements.md（如果需要）

**注意**：

- 不需要为文档更新生成额外的总结

## 🎨 代码风格约束

### 组件开发

- 使用 Vue 3 Composition API
- TypeScript 类型定义完整
- 组件名使用 PascalCase
- 文件名使用 kebab-case

### 测试编写

- 使用 Vitest
- 测试覆盖核心功能
- 测试文件与组件同名

### 文档编写

- 使用 Markdown 格式
- 代码块指定语言
- 提供可执行的示例

## 🔄 持续改进

### 定期检查

- 检查 requirements.md 是否有待处理需求
- 检查 summaries/ 是否有过时文档
- 检查文档间的链接是否有效

### 优化建议

- 如果发现更好的文档组织方式，提出建议
- 如果发现流程可以优化，更新本指南
- 保持文档的简洁和实用性

## 📞 特殊情况处理

### 用户要求不符合规范

- 礼貌地说明规范
- 提供符合规范的替代方案
- 解释规范的好处

### 需求不明确

- 在 requirements.md 中记录问题
- 向用户询问详细信息
- 提供多个可选方案

### 紧急修复

- 优先处理问题
- 事后补充文档
- 在 requirements.md 中标记为"紧急修复"

## 📚 参考资源

- [requirements.md](./requirements.md) - 需求管理文档
- [README.md](./README.md) - .kiro 文件夹说明
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - 快速参考

---

**重要提示**：本指南是 AI 在本项目中的行为准则，确保协作的一致性和高效性。
